= Demo project for Spring Boot + MockMvc + @WebMvcTest
:author: Guillaume HUSTA
:toc:

== Overview

How to test Spring Boot + Spring MVC + Unit tests + MockMvc.

== Unit test for a Spring MVC controller

See https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#spring-mvc-test-server[Server-Side Tests].

> You can write a plain unit test for a Spring MVC controller by using JUnit or TestNG. To do so, instantiate the controller, inject it with mocked or stubbed dependencies, and call its methods (passing MockHttpServletRequest, MockHttpServletResponse, and others, as necessary).

...

> The goal of Spring MVC Test is to **provide an effective way to test controllers** by performing requests and generating responses **through the actual DispatcherServlet**.

There is no need to run a Servlet container to run these unit tests.
It uses https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#mock-objects-servlet["mock" implementations of the Servlet API].

== References

* https://spring.io/guides/gs/testing-web/[Testing the Web Layer] (Spring.io)
* https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#spring-mvc-test-framework[Spring MVC Test Framework] (Spring.io)
* Spring Security :
** https://www.baeldung.com/spring-security-integration-tests[Spring Security for Spring Boot Integration Tests]
** https://blog.zenika.com/2016/11/25/spring-mvc-test-dans-un-contexte-securise/[Spring MVC test dans un contexte sÃ©curisÃ©] ðŸ‡«ðŸ‡·
* Javadoc :
** https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.html[@WebMvcTest] (Spring Boot)
** https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/web/servlet/MockMvc.html[MockMvc] (Spring FWK)
** https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/AutoConfigureMockMvc.html[MockMvcAutoConfiguration] (Spring Boot)
** https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/web/servlet/WebMvcProperties.html[WebMvcProperties] (Spring Boot -- _spring.mvc.*_)
